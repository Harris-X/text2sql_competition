{"instance_id": "sql_2", "instruction": "提取1个抽样号码包，2025.7.17-2025.7.23期间付费且不包含721号码包内的用户全量\n输出:gplayerid。", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "", "table_list": ["dim_extract_311381_conf", "dws_argothek_ce1_login_di", "dws_argothek_ce1_cbt2_vplayerid_suserid_di"]}
{"instance_id": "sql_6", "instruction": "统计2025.6.12-2025.7.14号手游T2活跃用户在20250529之前端游注册的号码包。\n输出：vplayerid", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "用户活跃用户筛选条件：\nitag=\"T2\"", "table_list": ["dim_argothek_gplayerid2qqwxid_df", "dws_argothek_ce1_cbt2_vplayerid_suserid_di"]}
{"instance_id": "sql_10", "instruction": "统计2023.7.12-2025.6.15，赛季bp道具皮肤的使用情况。\n输出：道具id、赛季名称、当前赛季使用人数、当前赛季购买人数", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "bp枪皮购买逻辑:\nand purchaseSource = \"BATTLEPASS_PROGRESS\" -- 筛选来源为BATTLEPASS_PROGRESS\nand itemtype = \"d5f120f8-ff8c-4aac-92ea-f2b5acbe9475\" -- 筛选itemtype为指定值\n枪皮使用逻辑：\nexpressionassetid is not null and expressiontypeid = \"d5f120f8-ff8c-4aac-92ea-f2b5acbe9475\"", "table_list": ["dwd_argothek_playerloadout_expressions_hi", "dwd_argothek_playerloadout_hi", "dwd_argothek_playerloadout_sprayslots_hi", "dwd_argothek_commercialization_gearid_df", "dim_argothek_seasondate_df"]}
{"instance_id": "sql_13", "instruction": "统计20230712以来，历史累计活跃30天以上，但3月12日及以后未活跃过的用户且剔除掉历史充值 1500 元以上的用户后的玩家wxid\n输出：玩家wxid\n时间统计范围:20230712-20250612", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "历史充值1500以上的用户：\nsum(ftranamt)/100 > 1500\n限制sappid in (\"qq\",\"wx\")", "table_list": ["dim_mgamejp_tbplayerid2wxid_nf", "dws_argothek_oss_portaltransaction_di", "dim_mgamejp_idconversion_wxid_qq_nf", "dws_argothek_oss_login_di", "dim_mgamejp_tbplayerid2qq_nf"]}
{"instance_id": "sql_16", "instruction": "统计：近一年（2023/7/12-2025/5/31）按段位统计所有竞技模式对局中，排除掉投降的对局情况。\n输出：日期（20230712-20250531）、段位（黑铁、...、无段位、全量段位）当日竞技模式非投降局对局数、当日竞技模式投降局对局数、当日竞技模式非投降局中 双方胜利回合差>=6和双方胜利回合差>=8的对局数", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "段位筛选逻辑：\ncase\nwhen competitiveTier in (3, 4, 5) then \"黑铁\"\nwhen competitiveTier in (6, 7, 8) then \"黄铜\"\nwhen competitiveTier in (9, 10, 11) then \"白银\"\nwhen competitiveTier in (12, 13, 14) then \"黄金\"\nwhen competitiveTier in (15, 16, 17) then \"白金\"\nwhen competitiveTier in (18, 19, 20) then \"钻石\"\nwhen competitiveTier in (21, 22, 23) then \"超凡\"\nwhen competitiveTier >= 24 then \"神话及以上\"\nelse \"无段位\"\n竞技模式：模式id等于\"competitive\"\n对局筛选逻辑:\n使用completion_state筛选投降与非投降对局；使用roundsdiff筛选双方胜利回合差", "table_list": ["dwd_argothek_playermatchstats_hi"]}
{"instance_id": "sql_20", "instruction": "统计20240101-20240430，网吧特权用户的指标数据。\n输出：\n月份（按月：202401、202402、202403、202404）\n人均对局时长（小时）\n网吧时间占当月游戏时间比例\n有对局的天数\n排位模式时长（小时）\n排位模式组队率\n月付费率\n月ARPA\n月ARPPA\n高校特权激活率", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "排位模式：queueId=\"competitive\"\n网吧特权：inetbarlevel = 2\n高校特权：icampuslevel > 0\n网吧在线时长先筛选网吧渠道", "table_list": ["dws_argothek_oss_login_di", "dwd_argothek_playerlogout_hi", "dws_argothek_oss_portaltransaction_di", "dwd_argothek_playermatchstats_hi"]}
{"instance_id": "sql_50", "instruction": "统计2024.10.1-2024.10.31期间点击400211，点击400212，点击400211及400212的重合用户作为用户类型，看不同性别、砺刃活跃度和乐园活跃度情况\n\n输出：用户类型（400211、400212、400211&400212、other），游戏角色性别（male、female、other）、乐园活跃度（light、medium、heavy、other）、砺刃活跃度（light、medium、heavy、other），人数\n\n乐园跟砺刃的活跃度： 轻度1-4天；中度5-15天；重度>=16天", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "性别根据时间开窗取最新一条", "table_list": ["dws_jordass_matchlog_stat_di", "dws_jordass_login_di", "dwd_jordass_playerlogin_hi", "dws_jordass_buttonpress_pre_di"]}
{"instance_id": "sql_54", "instruction": "统计2024.9.20到2024.10.20期间matchmode=1003 每种玩法参与周期内的日均参与人数和日均玩法次留\n输出：玩法、上线日期、下线日期、日均参与人数、日均玩法次留", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "玩法次留：每天参与玩法的用户在第2天也参与了该玩法\n日均次留：每种玩法周期内次留人数的平均值", "table_list": ["dwd_jordass_player_matchrecord_hi", "dim_jordass_imode_leyuan_nf"]}
{"instance_id": "sql_62", "instruction": "统计20250226联盟前180日（包含当天）基础数据 说明：按照uid计算\n输出：统计日期（YYYYMMDD），角色DAU，联盟参与角色数，联盟完成特训任务角色数，联盟商店兑换次数", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "", "table_list": ["dwd_jordass_allianceshopbuy_hi", "dwd_jordass_player_allianceactive_hi", "dwd_jordass_alliancebootcamprecord_hi", "dwd_jordass_playerlogout_hi", "dwd_jordass_playerlogin_hi"]}
{"instance_id": "sql_111", "instruction": "统计20220425突变组竞2.0局内数据需求感染人类坐标热区（人类的坐标）  按天分布，重点关注\n类型包括：（变身速行战士，变身隐形战士，变身钩链战士，变身强能猎手，变身冰霜领主，变身强化战士，变身龙焰猎手）\n\n输出：统计日期(yyyymmdd)，类型，x,y,z,次数", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "每个类型都要限制各自字段不为空\n各种类型计算方式：\n变身速行战士 用 SwiftMorphInfo 取坐标（数组下标3,4,5对应x,y,z）\n变身隐形战士 用 StealthMorphInfo 取坐标（数组下标3,4,5对应x,y,z）\n变身钩链战士 用 GrappleMorphInfo 取坐标（数组下标3,4,5对应x,y,z）\n变身强能猎手 用 HeroMorphInfo 取坐标（数组下标3,4,5对应x,y,z）\n变身冰霜领主 用 IceAdvMorphInfo 取坐标（数组下标3,4,5对应x,y,z）\n变身强化战士 用 PowerAdvMorphInfo 取坐标（数组下标3,4,5对应x,y,z）\n变身龙焰猎手 用 DragonHeroMorphInfo 取坐标（数组下标3,4,5对应x,y,z）\n坐标保留一位小数点", "table_list": ["dwd_jordass_vsteaminfectlog_hi"]}
