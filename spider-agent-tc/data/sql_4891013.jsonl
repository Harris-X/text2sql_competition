{"instance_id": "sql_4", "instruction": "统计开服至今使用频率最高的用户昵称\n2023.07.1200 - 2025071523\n输出：昵称（唯一）、人数", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "昵称筛选逻辑：\nnickname按照#进行划分，取#前半部分的作为nickname\n示例：多喝热水#131234 -> 昵称：多喝热水", "table_list": ["dwd_argothek_playerlogin_hi"]}
{"instance_id": "sql_8", "instruction": "统计25年4月到25年6月，按月输出gamePodId的峰值数据与游戏对局数。\n输出：\n月份(2025-04、2025-05、2025-06)\n服务器节点\n峰值时间\n总游戏结束数\n排位结束数\n普通结束数\n极速结束数", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "比赛状态逻辑:\nlower(completionState) in (\"completed\", \"surrendered\")\n限定模式（极速模式、排位模式、普通模式）对应逻辑:\nqueueId in (\"swiftplay\", \"competitive\", \"unrated\")\ncount(distinct matchId) 代表比赛场次，峰值时间取每月不同模式最高的dtEventTime", "table_list": ["dwd_argothek_matchdetails_hi"]}
{"instance_id": "sql_9", "instruction": "统计20250702手游fps最后活跃日期为近半年的用户的城市等级分布。\n输出：城市等级，用户人数", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "用户固定筛选逻辑:\nand saccounttype = \"-100\" -- 账户类型为-100\nand suseridtype in (\"qq\",\"wxid\") -- 用户类型为qq或wxid\nand sgamecode in (\"esports\",\"mobile_live\",\"initiatived\",\"allianceforce\",\"strategy\",\"jordass\",\"su\",\"playzone\",\"battlezone\",\"battlearena\",\"weapon\",\"playhub\",\"manager\",\"apgame\") -- 游戏代码为指定的手游fps\nand splattype = \"-100\" -- 平台类型为-100\n活跃日期逻辑:\n基于当前统计时间20250702向前计算6个月的登陆日期，即ilastactdate >= \"20250104\"\n城市等级分布：\n当前时间为20250702，城市等级分布的相关表是月表，所以需要取kp_imp_date = \"202506\"的数据作为关联数据", "table_list": ["dim_mgamejp_account_allinfo_nf", "dim_uf_player_gameinfo_mf"]}
{"instance_id": "sql_10", "instruction": "统计2023.7.12-2025.6.15，赛季bp道具皮肤的使用情况。\n输出：道具id、赛季名称、当前赛季使用人数、当前赛季购买人数", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "bp枪皮购买逻辑:\nand purchaseSource = \"BATTLEPASS_PROGRESS\" -- 筛选来源为BATTLEPASS_PROGRESS\nand itemtype = \"d5f120f8-ff8c-4aac-92ea-f2b5acbe9475\" -- 筛选itemtype为指定值\n枪皮使用逻辑：\nexpressionassetid is not null and expressiontypeid = \"d5f120f8-ff8c-4aac-92ea-f2b5acbe9475\"", "table_list": ["dwd_argothek_playerloadout_expressions_hi", "dwd_argothek_playerloadout_hi", "dwd_argothek_playerloadout_sprayslots_hi", "dwd_argothek_commercialization_gearid_df", "dim_argothek_seasondate_df"]}
{"instance_id": "sql_13", "instruction": "统计20230712以来，历史累计活跃30天以上，但3月12日及以后未活跃过的用户且剔除掉历史充值 1500 元以上的用户后的玩家wxid\n输出：玩家wxid\n时间统计范围:20230712-20250612", "db_id": "final_algorithm_competition", "external_knowledge": "common_knowledge.md", "knowledge": "历史充值1500以上的用户：\nsum(ftranamt)/100 > 1500\n限制sappid in (\"qq\",\"wx\")", "table_list": ["dim_mgamejp_tbplayerid2wxid_nf", "dws_argothek_oss_portaltransaction_di", "dim_mgamejp_idconversion_wxid_qq_nf", "dws_argothek_oss_login_di", "dim_mgamejp_tbplayerid2qq_nf"]}
